#!/usr/bin/env zsh

file "$1"
echo

if [[ -d $1 ]]; then
	${=FAV_DIR_PREVIEW_CMD} "$1"
else
	case "$1" in
		*.pdf)     pdftotext "$1" - ;;
		*.zip)     unzip -l  "$1"   ;;
		*.tar.gz)  tar -ztvf "$1"   ;;
		*.tar.bz2) tar -jtvf "$1"   ;;
		*.tar.xz)  tar -Jtvf "$1"   ;;
		*.tar)     tar -tvf  "$1"   ;;
		*)                 < "$1"   ;;
	esac |
		${=FAV_FILE_PREVIEW_CMD}
fi
